YUI.add("moodle-atto_studietube-button",function(a,e){a.namespace("M.atto_studietube").Button=a.Base.create("button",a.M.editor_atto.EditorPlugin,[],{_currentSelection:null,initializer:function(){var t=this;window.addEventListener("message",function(e){t._handleMedia(e,t)},!1),this.addButton({icon:"studietube",iconComponent:"atto_studietube",callback:this._displayDialogue})},_displayDialogue:function(e){var t=this.getDialogue({headerContent:"Studietube",width:"600px",height:"500px",focusAfterHide:!0}),i=a.Node.create("<iframe></iframe>");i.setStyles({height:"400px",border:"none",width:"100%"}),i.setAttribute("src","//www.skoletube.dk/app/bluebird"),t.set("bodyContent",i).show(),this.markUpdated()},_handleMedia:function(e,t){if("https://www.skoletube.dk"===e.origin||"http://www.skoletube.dk"===e.origin){t.get("host");var i=t;newhtml=a.Node.create('<iframe src="'+e.data+'" width="480" height="390" frameborder="0" allowfullscreen></iframe>'),i.editor.appendChild(newhtml)}}},{ATTRS:{disabled:{value:!0},area:{value:{}}}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});